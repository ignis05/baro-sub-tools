<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Barotrauma Submarine Tools</title>

		<meta name="description" content="Some useful submarine editing tools for Barotrauma." />
		<meta name="keywords" content="Barotrauma, Submarine, Game, Tools" />
		<meta name="author" content="ignis05" />

		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />

		<link rel="icon" href="./favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="./main.css" />
	</head>
	<body>
		<div id="root">
			<a href="https://ignis05.github.io/baro-save-tools/index.html" class="link" id="link">Save Tools</a>
			<a href="https://github.com/ignis05/baro-sub-tools/blob/master/README.md" class="link" id="link2">Help</a>
			<div id="header">
				<h1>Barotrauma Submarine Tools</h1>
			</div>
			<div id="dropWrapper">
				<div class="above">
					<div class="desc">Drag .sub file below to get started:</div>
					<div id="fileLocHelp">(Where are my .sub files?)</div>
				</div>
				<input type="file" id="hiddenFileInput" hidden />
				<div id="drop">Drop your .sub here</div>
			</div>
			<div id="tools" hidden>
				<div id="loadedInfo">
					<div class="title">Currently Loaded Submarine:</div>
					<div class="name">None</div>
				</div>
				<div id="submarineTools">
					<div id="downloadPrompt" hidden>
						<div class="label">Your submarine has been modified. Make sure to download it or your changes will be lost.</div>
						<div id="downloadButton">Download</div>
					</div>
					<div class="title">Edit loaded submarine:</div>
					<div class="toolSection">
						<div class="toolWrapper">
							<div class="label">Change price:</div>
							<div class="tool">
								<input type="number" id="priceInput" />
								<div id="priceConfirm" class="confirmButton">Confirm</div>
							</div>
						</div>
						<div class="toolWrapper">
							<div class="label">Misc:</div>
							<div class="tool">
								<div id="cleanDirt" class="confirmButton" title="Remove all dirt and stains from background walls">Clean walls</div>
							</div>
							<div class="tool">
								<div id="hideWires" class="confirmButton" title="Mark all wires as hidden-in-game">Hide all wires</div>
							</div>
						</div>
						<div class="toolWrapper">
							<div class="tool">
								<div class="label" title="run script with $submarine as jquery xml object">Script:</div>
								<textarea id="scriptInput" spellcheck="false">
// example: set all "door with button" to open
$submarine.find('Item').each(function () {
  var item = $(this)
  if (item.attr('identifier') === 'doorwbuttons') {
   item.find('Door').attr('isopen','True')
  }
})
								</textarea
								>
								<div id="runScript" class="confirmButton" title="run script with $submarine as jquery xml object">Run script</div>
							</div>
						</div>
					</div>
				</div>
				<div id="extractButtons">
					<div class="title">Extract stuff from loaded file:</div>
					<div id="buttonsWrapper">
						<div id="extractImage" class="extractButton" title="Download this submarine's preview image as .png file">Extract preview image</div>
						<div class="shuttleButton extractButton">Test1</div>
						<div class="shuttleButton extractButton">Test2</div>
					</div>
				</div>
			</div>
			<div id="console"></div>
		</div>
		<script src="./bundle.js"></script>
	</body>
</html>
